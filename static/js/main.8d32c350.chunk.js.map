{"version":3,"sources":["components/Searchbar/Searchbar.jsx","services/PixabayApi.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/ButtonLoadMore/ButtonLoadMore.jsx","components/Loader/Loader.jsx","components/Error/Error.jsx","components/GetImages/GetImages.jsx","components/Header/Header.jsx","components/Section/Section.jsx","components/App.js","index.js"],"names":["Searchbar","props","handleSubmit","e","preventDefault","onSubmit","state","searchName","setState","handleChange","target","value","trim","className","this","type","serachName","onChange","autoComplete","autoFocus","placeholder","Component","PixabayApi","currentPage","query","fetch","then","response","json","ImageGalleryItem","smallImg","largeImg","tags","src","alt","rootModal","document","querySelector","Modal","hadleKeyDown","code","onClose","handOverlayClick","currentTarget","window","addEventListener","removeEventListener","createPortal","onClick","ImageGallery","handleShowModal","nodeName","dataModal","dataset","modal","sendDataModal","data","toggleModal","showModal","listGallery","map","id","webformatURL","largeImageURL","ButtonLoadMore","Loader","color","height","width","timeout","Error","message","GetImages","fetchImages","status","API","resolved","gallery","hits","catch","error","finally","scrollTo","top","documentElement","scrollHeight","behavior","prevProps","prevState","prevQuery","button","length","Header","children","Section","App","hadleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8d32c350.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport './Searchbar.scss';\n\nexport default class Searchbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchName: '',\n    };\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.searchName);\n\n    this.setState({ searchName: '' });\n  };\n\n  handleChange = e => {\n    this.setState({ searchName: e.target.value.trim() });\n  };\n\n  render() {\n    return (\n      <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n        <button className=\"SearchForm-button\" type=\"submit\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          value={this.state.serachName}\n          onChange={this.handleChange}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    );\n  }\n}\n","const KEY = '22163812-fdf68a623e9a64649f570bea3';\n\nconst PixabayApi = ({ currentPage, query }) => {\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12\n  `).then(response => response.json());\n};\n\nexport default PixabayApi;\n","import './ImageGalleryItem.scss';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ smallImg, largeImg, tags }) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img className=\"ImageGalleryItem-image\" src={smallImg} data-modal={largeImg} alt={tags} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  smallImg: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport './Modal.scss';\n\nconst rootModal = document.querySelector('#root-modal');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.hadleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hadleKeyDown);\n  }\n\n  hadleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handOverlayClick}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      rootModal,\n    );\n  }\n}\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Modal from '../Modal';\n\nimport './ImageGallery.scss';\n\nclass ImageGallery extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showModal: false,\n      dataModal: '',\n    };\n  }\n\n  handleShowModal = e => {\n    if (e.target.nodeName === 'IMG') {\n      const alt = e.target.alt;\n\n      const src = e.target.dataset.modal;\n      const dataModal = { src, alt };\n      this.sendDataModal(dataModal);\n    }\n  };\n\n  sendDataModal = data => {\n    this.setState({ dataModal: data });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const { listGallery } = this.props;\n    const {\n      dataModal: { src, alt },\n      showModal,\n    } = this.state;\n\n    return (\n      <>\n        <ul className=\"ImageGallery\" onClick={this.handleShowModal}>\n          {listGallery.map(({ id, webformatURL, largeImageURL, tags }) => (\n            <ImageGalleryItem\n              key={id}\n              smallImg={webformatURL}\n              largeImg={largeImageURL}\n              tags={tags}\n            />\n          ))}\n        </ul>\n\n        {showModal && <Modal onClose={this.toggleModal} src={src} alt={alt} />}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  listGallery: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default ImageGallery;\n","import React from 'react';\n\nimport './ButtonLoadMore.scss';\n\nconst ButtonLoadMore = ({ onClick }) => {\n  return (\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nexport default ButtonLoadMore;\n","import React, { Component } from 'react';\n\nimport LoaderSpinner from 'react-loader-spinner';\n\nexport default class Loader extends Component {\n  render() {\n    return (\n      <LoaderSpinner type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} timeout={3000} />\n    );\n  }\n}\n","const Error = ({ message }) => {\n  return <p>{message}</p>;\n};\n\nexport default Error;\n","import React, { Component } from 'react';\n\nimport API from '../../services';\n\nimport ImageGallery from '../ImageGallery';\n\nimport ButtonLoadMore from '../ButtonLoadMore/ButtonLoadMore';\n\nimport Loader from '../Loader';\n\nimport Error from '../Error';\n\nexport default class GetImages extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gallery: [],\n      currentPage: 1,\n      error: null,\n      status: 'waiting',\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.query;\n    const newQuery = this.props.query;\n\n    if (newQuery !== prevQuery) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    this.setState({ status: 'padding' });\n\n    const query = this.props.query;\n    const currentPage = this.state.currentPage;\n    const options = { currentPage, query };\n\n    API(options)\n      .then(resolved =>\n        this.setState(({ gallery, currentPage }) => ({\n          gallery: [...gallery, ...resolved.hits],\n          currentPage: currentPage + 1,\n          status: 'resolved',\n        })),\n      )\n      .catch(error => this.setState({ error, status: 'rejected' }))\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  render() {\n    const { gallery, status, error } = this.state;\n\n    let button;\n\n    if (gallery.length > 0 && status === 'resolved') {\n      button = <ButtonLoadMore onClick={this.fetchImages} />;\n    } else if (status === 'padding') {\n      button = <Loader />;\n    }\n\n    return (\n      <>\n        <ImageGallery listGallery={gallery} />\n\n        {button}\n        {status === 'rejected' && <Error message={error.message} />}\n      </>\n    );\n  }\n}\n","import React from 'react';\n\nimport './Header.scss';\n\nconst Header = ({ children }) => {\n  return <header className=\"Searchbar\">{children}</header>;\n};\n\nexport default Header;\n","import React from 'react';\n\nimport './Section.scss';\n\nconst Section = ({ children }) => {\n  return <section className=\"section-images\">{children}</section>;\n};\n\nexport default Section;\n","import React, { Component } from 'react';\n\nimport Searchbar from './Searchbar';\n\nimport GetImages from './GetImages';\n\nimport Header from './Header';\n\nimport Section from './Section';\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      query: '',\n    };\n  }\n\n  hadleFormSubmit = searchName => {\n    this.setState({ query: searchName });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <>\n        <Header>\n          <Searchbar onSubmit={this.hadleFormSubmit} />\n        </Header>\n\n        <Section>\n          <GetImages query={query} />\n        </Section>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}