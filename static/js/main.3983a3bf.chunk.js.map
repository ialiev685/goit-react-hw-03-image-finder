{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/Header/Header.jsx","components/Section/Section.jsx","services/PixabayApi.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/ButtonLoadMore/ButtonLoadMore.jsx","components/Loader/Loader.jsx","components/Error/Error.jsx","components/Modal/Modal.jsx","components/App.js","index.js"],"names":["Searchbar","props","handleSubmit","e","preventDefault","onSubmit","state","searchName","setState","handleChange","target","value","trim","className","this","type","serachName","onChange","autoComplete","autoFocus","placeholder","Component","Header","children","Section","PixabayApi","currentPage","query","fetch","then","response","json","ImageGalleryItem","smallImg","largeImg","tags","onModal","src","alt","onClick","ImageGallery","listGallery","onImgClick","map","id","webformatURL","largeImageURL","ButtonLoadMore","Loader","color","height","width","timeout","Error","message","rootModal","document","querySelector","Modal","hadleKeyDown","code","onClose","handOverlayClick","currentTarget","window","addEventListener","removeEventListener","data","createPortal","App","hadleFormSubmit","fetchImages","status","API","resolved","gallery","hits","catch","error","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleShowModal","nodeName","dataImage","dataset","modal","dataModal","toggleModal","showModal","prevProps","prevState","prevQuery","newQuery","prevDataModal","newDataModal","button","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"qYAIqBA,E,kDACnB,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAMRC,aAAe,SAAAC,GACbA,EAAEC,iBAEF,EAAKH,MAAMI,SAAS,EAAKC,MAAMC,YAE/B,EAAKC,SAAS,CAAED,WAAY,MAZX,EAenBE,aAAe,SAAAN,GACb,EAAKK,SAAS,CAAED,WAAYJ,EAAEO,OAAOC,MAAMC,UAd3C,EAAKN,MAAQ,CACXC,WAAY,IAHG,E,0CAmBnB,WACE,OACE,uBAAMM,UAAU,aAAaR,SAAUS,KAAKZ,aAA5C,UACE,wBAAQW,UAAU,oBAAoBE,KAAK,SAA3C,SACE,sBAAMF,UAAU,0BAAhB,sBAEF,uBACEA,UAAU,mBACVE,KAAK,OACLJ,MAAOG,KAAKR,MAAMU,WAClBC,SAAUH,KAAKL,aACfS,aAAa,MACbC,WAAS,EACTC,YAAY,oC,GAjCiBC,aCIxBC,G,MAJA,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAChB,OAAO,wBAAQV,UAAU,YAAlB,SAA+BU,MCGzBC,G,MAJC,SAAC,GAAkB,IAAhBD,EAAe,EAAfA,SACjB,OAAO,yBAASV,UAAU,iBAAnB,SAAqCU,MCE/BE,EALI,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,YAAaC,EAAY,EAAZA,MACjC,OAAOC,MAAM,8BAAD,OAA+BD,EAA/B,iBAA6CD,EAA7C,gBAHF,qCAGE,6DACTG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,WCoBhBC,G,MArBU,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,SAAUC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACpD,OACE,oBAAIvB,UAAU,mBAAd,SACE,qBACEA,UAAU,yBACVwB,IAAKJ,EACL,aAAYC,EACZI,IAAKH,EACLI,QAASH,QCeFI,G,MApBM,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,YAAaC,EAAiB,EAAjBA,WACnC,OACE,oBAAI7B,UAAU,eAAd,SACG4B,EAAYE,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAAeX,EAApC,EAAoCA,KAApC,OACf,cAAC,EAAD,CAEEF,SAAUY,EACVX,SAAUY,EACVX,KAAMA,EACNC,QAASM,GAJJE,UCCAG,G,MARQ,SAAC,GAAiB,IAAfR,EAAc,EAAdA,QACxB,OACE,wBAAQ1B,UAAU,SAASE,KAAK,SAASwB,QAASA,EAAlD,yB,iBCFiBS,E,4JACnB,WACE,OACE,cAAC,IAAD,CAAejC,KAAK,YAAYkC,MAAM,UAAUC,OAAQ,IAAKC,MAAO,IAAKC,QAAS,U,GAHpD/B,aCArBgC,EAJD,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACf,OAAO,4BAAIA,KCIPC,G,MAAYC,SAASC,cAAc,gBAEpBC,E,4MASnBC,aAAe,SAAAxD,GACE,WAAXA,EAAEyD,MACJ,EAAK3D,MAAM4D,W,EAIfC,iBAAmB,SAAA3D,GACbA,EAAEO,SAAWP,EAAE4D,eACjB,EAAK9D,MAAM4D,W,uDAhBf,WACEG,OAAOC,iBAAiB,UAAWnD,KAAK6C,gB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAWpD,KAAK6C,gB,oBAe7C,WACE,MAAqB7C,KAAKb,MAAMkE,KAAxB9B,EAAR,EAAQA,IAAKC,EAAb,EAAaA,IACb,OAAO8B,uBACL,qBAAKvD,UAAU,UAAU0B,QAASzB,KAAKgD,iBAAvC,SACE,qBAAKjD,UAAU,QAAf,SACE,qBAAKwB,IAAKA,EAAKC,IAAKA,QAGxBiB,O,GA7B6BlC,aCedgD,E,kDACnB,WAAYpE,GAAQ,IAAD,8BACjB,cAAMA,IAgCRqE,gBAAkB,SAAA/D,GAChB,EAAKC,SAAS,CAAEmB,MAAOpB,KAlCN,EAqCnBgE,YAAc,WACZ,EAAK/D,SAAS,CAAEgE,OAAQ,YAExB,MAA+B,EAAKlE,MAA5BqB,EAAR,EAAQA,MAAOD,EAAf,EAAeA,YAGf+C,EAFgB,CAAE9C,QAAOD,gBAGtBG,MAAK,SAAA6C,GAAQ,OACZ,EAAKlE,UAAS,gBAAGmE,EAAH,EAAGA,QAASjD,EAAZ,EAAYA,YAAZ,MAA+B,CAC3CiD,QAAQ,GAAD,mBAAMA,GAAN,YAAkBD,EAASE,OAClClD,YAAaA,EAAc,EAC3B8C,OAAQ,kBAGXK,OAAM,SAAAC,GAAK,OAAI,EAAKtE,SAAS,CAAEsE,QAAON,OAAQ,gBAC9CO,SAAQ,WACPf,OAAOgB,SAAS,CACdC,IAAKzB,SAAS0B,gBAAgBC,aAC9BC,SAAU,eAvDC,EA4DnBC,gBAAkB,SAAAlF,GAChB,GAA0B,QAAtBA,EAAEO,OAAO4E,SAAoB,CAC/B,IAAMhD,EAAMnC,EAAEO,OAAO4B,IAGfiD,EAAY,CAAElD,IADRlC,EAAEO,OAAO8E,QAAQC,MACJnD,OAEzB,EAAK9B,SAAS,CAAEkF,UAAWH,MAnEZ,EAuEnBI,YAAc,WACZ,EAAKnF,UAAS,kBAAoB,CAAEoF,WAAtB,EAAGA,eArEjB,EAAKtF,MAAQ,CACXqB,MAAO,GAEPgD,QAAS,GACTjD,YAAa,EACboD,MAAO,KACPN,OAAQ,GAERoB,WAAW,EACXF,UAAW,IAZI,E,sDAgBnB,SAAmBG,EAAWC,GAC5B,IAAMC,EAAYD,EAAUnE,MACtBqE,EAAWlF,KAAKR,MAAMqB,MAEtBsE,EAAgBH,EAAUJ,UAC1BQ,EAAepF,KAAKR,MAAMoF,UAE5BM,IAAaD,IACfjF,KAAKN,SAAS,CAAEmE,QAAS,GAAIjD,YAAa,IAC1CZ,KAAKyD,eAGH2B,IAAiBD,GACnBnF,KAAK6E,gB,oBA8CT,WACE,IAEIQ,EAFJ,EAAyDrF,KAAKR,MAAtDqE,EAAR,EAAQA,QAASH,EAAjB,EAAiBA,OAAQM,EAAzB,EAAyBA,MAAOc,EAAhC,EAAgCA,UAAWF,EAA3C,EAA2CA,UAU3C,OANIf,EAAQyB,OAAS,GAAgB,aAAX5B,EACxB2B,EAAS,cAAC,EAAD,CAAgB5D,QAASzB,KAAKyD,cACnB,YAAXC,IACT2B,EAAS,cAAC,EAAD,KAIT,qCACE,cAAC,EAAD,UACE,cAAC,EAAD,CAAW9F,SAAUS,KAAKwD,oBAG5B,eAAC,EAAD,WACE,cAAC,EAAD,CAAc7B,YAAakC,EAASjC,WAAY5B,KAAKuE,kBACpDc,EACW,aAAX3B,GAAyB,cAAC,EAAD,CAAOlB,QAASwB,EAAMxB,UAE/CsC,GAAa,cAAC,EAAD,CAAO/B,QAAS/C,KAAK6E,YAAaxB,KAAMuB,c,GAlG/BrE,aCjBjCgF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF/C,SAASgD,eAAe,W","file":"static/js/main.3983a3bf.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport './Searchbar.scss';\n\nexport default class Searchbar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchName: '',\n    };\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.searchName);\n\n    this.setState({ searchName: '' });\n  };\n\n  handleChange = e => {\n    this.setState({ searchName: e.target.value.trim() });\n  };\n\n  render() {\n    return (\n      <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n        <button className=\"SearchForm-button\" type=\"submit\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          value={this.state.serachName}\n          onChange={this.handleChange}\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    );\n  }\n}\n","import React from 'react';\n\nimport './Header.scss';\n\nconst Header = ({ children }) => {\n  return <header className=\"Searchbar\">{children}</header>;\n};\n\nexport default Header;\n","import React from 'react';\n\nimport './Section.scss';\n\nconst Section = ({ children }) => {\n  return <section className=\"section-images\">{children}</section>;\n};\n\nexport default Section;\n","const KEY = '22163812-fdf68a623e9a64649f570bea3';\n\nconst PixabayApi = ({ currentPage, query }) => {\n  return fetch(`https://pixabay.com/api/?q=${query}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12\n  `).then(response => response.json());\n};\n\nexport default PixabayApi;\n","import './ImageGalleryItem.scss';\nimport PropTypes from 'prop-types';\n\nconst ImageGalleryItem = ({ smallImg, largeImg, tags, onModal }) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        className=\"ImageGalleryItem-image\"\n        src={smallImg}\n        data-modal={largeImg}\n        alt={tags}\n        onClick={onModal}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  smallImg: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  onModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from '../ImageGalleryItem';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './ImageGallery.scss';\n\nconst ImageGallery = ({ listGallery, onImgClick }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {listGallery.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          smallImg={webformatURL}\n          largeImg={largeImageURL}\n          tags={tags}\n          onModal={onImgClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  listGallery: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default ImageGallery;\n","import React from 'react';\n\nimport './ButtonLoadMore.scss';\n\nconst ButtonLoadMore = ({ onClick }) => {\n  return (\n    <button className=\"Button\" type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nexport default ButtonLoadMore;\n","import React, { Component } from 'react';\n\nimport LoaderSpinner from 'react-loader-spinner';\n\nexport default class Loader extends Component {\n  render() {\n    return (\n      <LoaderSpinner type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} timeout={3000} />\n    );\n  }\n}\n","const Error = ({ message }) => {\n  return <p>{message}</p>;\n};\n\nexport default Error;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport './Modal.scss';\n\nconst rootModal = document.querySelector('#root-modal');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.hadleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hadleKeyDown);\n  }\n\n  hadleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props.data;\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handOverlayClick}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      rootModal,\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nimport Searchbar from './Searchbar';\n\n// import GetImages from './GetImages';\n\nimport Header from './Header';\n\nimport Section from './Section';\n\nimport API from '../services';\n\nimport ImageGallery from './ImageGallery';\n\nimport ButtonLoadMore from './ButtonLoadMore';\n\nimport Loader from './Loader';\n\nimport Error from './Error';\n\nimport Modal from './Modal';\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      query: '',\n\n      gallery: [],\n      currentPage: 1,\n      error: null,\n      status: '',\n\n      showModal: false,\n      dataModal: '',\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.query;\n    const newQuery = this.state.query;\n\n    const prevDataModal = prevState.dataModal;\n    const newDataModal = this.state.dataModal;\n\n    if (newQuery !== prevQuery) {\n      this.setState({ gallery: [], currentPage: 1 });\n      this.fetchImages();\n    }\n\n    if (newDataModal !== prevDataModal) {\n      this.toggleModal();\n    }\n  }\n\n  hadleFormSubmit = searchName => {\n    this.setState({ query: searchName });\n  };\n\n  fetchImages = () => {\n    this.setState({ status: 'padding' });\n\n    const { query, currentPage } = this.state;\n    const options = { query, currentPage };\n\n    API(options)\n      .then(resolved =>\n        this.setState(({ gallery, currentPage }) => ({\n          gallery: [...gallery, ...resolved.hits],\n          currentPage: currentPage + 1,\n          status: 'resolved',\n        })),\n      )\n      .catch(error => this.setState({ error, status: 'rejected' }))\n      .finally(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  handleShowModal = e => {\n    if (e.target.nodeName === 'IMG') {\n      const alt = e.target.alt;\n\n      const src = e.target.dataset.modal;\n      const dataImage = { src, alt };\n\n      this.setState({ dataModal: dataImage });\n    }\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const { gallery, status, error, showModal, dataModal } = this.state;\n\n    let button;\n\n    if (gallery.length > 0 && status === 'resolved') {\n      button = <ButtonLoadMore onClick={this.fetchImages} />;\n    } else if (status === 'padding') {\n      button = <Loader />;\n    }\n\n    return (\n      <>\n        <Header>\n          <Searchbar onSubmit={this.hadleFormSubmit} />\n        </Header>\n\n        <Section>\n          <ImageGallery listGallery={gallery} onImgClick={this.handleShowModal} />\n          {button}\n          {status === 'rejected' && <Error message={error.message} />}\n\n          {showModal && <Modal onClose={this.toggleModal} data={dataModal} />}\n        </Section>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}